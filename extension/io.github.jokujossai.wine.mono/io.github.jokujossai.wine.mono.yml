id: io.github.jokujossai.wine.mono
branch: stable
runtime: io.github.jokujossai.wine.base
runtime-version: '25.08'
sdk: org.freedesktop.Sdk//25.08
build-extension: true
separate-locales: false
appstream-compose: false

modules:
  - name: wine-mono
    buildsystem: simple
    build-commands:
      - mkdir -p ${FLATPAK_DEST}/
      - cp -a wine-mono-* ${FLATPAK_DEST}/
      - install -Dm644 io.github.jokujossai.wine.mono.metainfo.xml -t ${FLATPAK_DEST}/share/metainfo/
    sources:
      - type: archive
        url: https://dl.winehq.org/wine/wine-mono/10.4.1/wine-mono-10.4.1-x86.tar.xz
        strip-components: 0
        sha256: a16606ef0724202e6a6848ece6e0cbba64d11e2f11aefe744af1d93c6d9f99bb
        x-checker-data:
          type: json
          url: https://api.github.com/repos/wine-mono/wine-mono/releases/latest
          version-query: .tag_name | sub("^wine-mono-"; "")
          url-query: '"https://dl.winehq.org/wine/wine-mono/" + (.tag_name | sub("^wine-mono-";
            "")) + "/wine-mono-" + (.tag_name | sub("^wine-mono-"; "")) + "-x86.tar.xz"'
      - type: file
        path: io.github.jokujossai.wine.mono.metainfo.xml
