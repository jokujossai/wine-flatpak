name: xwayland
buildsystem: meson
config-opts:
  - -Dsecure-rpc=false
sources:
  - type: archive
    url: https://xorg.freedesktop.org/archive/individual/xserver/xwayland-24.1.9.tar.xz
    sha256: f297af27a84508db9b80d1cbbcc69c3801da38eb64c72f3b5b50f582459afdd0
    x-checker-data:
      type: html
      url: https://xorg.freedesktop.org/archive/individual/xserver/
      version-pattern: xwayland-([\d.]+)\.tar\.xz
      url-template: https://xorg.freedesktop.org/archive/individual/xserver/xwayland-$version.tar.xz
cleanup:
  - /lib/xorg
  - /lib/pkgconfig
  - /share
modules:
  - name: fontutil
    buildsystem: autotools
    sources:
      - type: archive
        url: https://xorg.freedesktop.org/releases/individual/font/font-util-1.4.1.tar.xz
        sha256: 5c9f64123c194b150fee89049991687386e6ff36ef2af7b80ba53efaf368cc95
        x-checker-data:
          type: html
          url: https://xorg.freedesktop.org/releases/individual/font/
          version-pattern: font-util-([\d.]+)\.tar\.xz
          url-template: https://xorg.freedesktop.org/releases/individual/font/font-util-$version.tar.xz
    cleanup:
      - '*'
  - name: xres
    buildsystem: autotools
    config-opts:
      - --disable-static
    sources:
      - type: archive
        url: https://xorg.freedesktop.org/releases/individual/lib/libXres-1.2.3.tar.gz
        sha256: e1ee4845aa6a59e6ba7145422279ffc7da521b4d3dd302c0b1febdf45d06d093
        x-checker-data:
          type: html
          url: https://xorg.freedesktop.org/releases/individual/lib/
          version-pattern: libXres-([\d.]+)\.tar\.gz
          url-template: https://xorg.freedesktop.org/releases/individual/lib/libXres-$version.tar.gz
    cleanup:
      - /include
      - /lib/*.la
      - /lib/pkgconfig
      - /share/man

  - name: libxcvt
    buildsystem: meson
    sources:
      - type: archive
        url: https://xorg.freedesktop.org/releases/individual/lib/libxcvt-0.1.3.tar.xz
        sha256: a929998a8767de7dfa36d6da4751cdbeef34ed630714f2f4a767b351f2442e01
        x-checker-data:
          type: html
          url: https://xorg.freedesktop.org/releases/individual/lib/
          version-pattern: libxcvt-([\d.]+)\.tar\.xz
          url-template: https://xorg.freedesktop.org/releases/individual/lib/libxcvt-$version.tar.xz
    cleanup:
      - /bin
      - /include
      - /lib/pkgconfig
      - /share/man

  - name: libxfont2
    buildsystem: autotools
    config-opts:
      - --disable-static
    sources:
      - type: archive
        url: https://xorg.freedesktop.org/releases/individual/lib/libXfont2-2.0.7.tar.xz
        sha256: 8b7b82fdeba48769b69433e8e3fbb984a5f6bf368b0d5f47abeec49de3e58efb
        x-checker-data:
          type: html
          url: https://xorg.freedesktop.org/releases/individual/lib/
          version-pattern: libXfont2-([\d.]+)\.tar\.xz
          url-template: https://xorg.freedesktop.org/releases/individual/lib/libXfont2-$version.tar.xz
    cleanup:
      - /include
      - /lib/*.la
      - /lib/pkgconfig

    modules:
      - name: libfontenc
        buildsystem: autotools
        config-opts:
          - --disable-static
        sources:
          - type: archive
            url: https://xorg.freedesktop.org/releases/individual/lib/libfontenc-1.1.9.tar.xz
            sha256: 9d8392705cb10803d5fe1d27d236cbab3f664e26841ce01916bbbe430cf273e2
            x-checker-data:
              type: html
              url: https://xorg.freedesktop.org/releases/individual/lib/
              version-pattern: libfontenc-([\d.]+)\.tar\.xz
              url-template: https://xorg.freedesktop.org/releases/individual/lib/libfontenc-$version.tar.xz
        cleanup:
          - /include
          - /lib/*.la
          - /lib/pkgconfig
